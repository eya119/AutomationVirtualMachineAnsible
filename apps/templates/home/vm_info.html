{% extends "layouts/base.html" %}

{% block title %}VM Details{% endblock %}

{% block head %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}
{% block stylesheets %}

<style>
    table {
        width: 50%;
        margin: auto;
        border-collapse: collapse;
    }
    th, td {
        padding: 8px 12px;
        border: 1px solid #ccc;
        text-align: left;
    }
    th {
        background-color: #f4f4f4;
    }
    
    .button-group .btn {
    padding: 4px 10px;
    font-size: 0.875rem; /* Smaller font size */
    min-width: 80px; /* Reduced minimum width */
}

.nav-link {
    padding: 4px 0;
    font-size: 0.875rem;
}

h1.h4 {
    font-weight: 600;
    margin-bottom: 20px;
    font-size: 1.25rem; /* Adjusted header size */
}

</style>
{% endblock stylesheets %}

{% block content %}
    <div class="py-4">
  <nav aria-label="breadcrumb" class="d-none d-md-inline-block">
      
      
    <ol class="breadcrumb breadcrumb-dark breadcrumb-transparent">
      <li class="breadcrumb-item">
        <a href="#">
          <svg class="icon icon-xxs" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
          </svg>
        </a>
      </li>
      <li class="breadcrumb-item"><a href="#">Volt</a></li>
      <li class="breadcrumb-item active" aria-current="page">Virtual machines</li>
    </ol>
  </nav>
        
        
<div class="d-flex justify-content-between align-items-center w-100 flex-wrap">
    <div class="mb-3 mb-lg-0">
        <h1 class="h4">Summary</h1>
    </div>

    <div class="button-group">
        <button id="button-start-vm" class="btn btn-primary btn-sm me-2" disabled>
            <a id="start-vm-link" class="nav-link text-white small">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill me-1" viewBox="0 0 16 16">
                    <path d="M11.596 8.697l-6.363 3.692A.75.75 0 0 1 4 11.75v-7.5a.75.75 0 0 1 1.233-.639l6.363 3.692a.75.75 0 0 1 0 1.294z"/>
                </svg>
                Start VM
            </a>
        </button>

        <button id="button-stop-vm" class="btn btn-warning btn-sm me-2">
            <a id="stop-vm-link" class="nav-link text-dark small">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stop-fill me-1" viewBox="0 0 16 16">
                    <path d="M5.5 3.5A2.5 2.5 0 0 0 3 6v4a2.5 2.5 0 0 0 2.5 2.5h4A2.5 2.5 0 0 0 12 10V6a2.5 2.5 0 0 0-2.5-2.5h-4z"/>
                </svg>
                Stop VM
            </a>
        </button>

        <button id="button-open-vm" class="btn btn-success btn-sm me-2" disabled>
            <a id="link-open-vm" class="nav-link text-white small" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right me-1" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8.5 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.707L3.854 13.854a.5.5 0 1 1-.708-.708L11.293 4H9a.5.5 0 0 1-.5-.5z"/>
                    <path fill-rule="evenodd" d="M13.5 13a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-3.5v9h9v-3.5a.5.5 0 0 1 1 0v4a.5.5 0 0 1-.5.5z"/>
                </svg>
                Open VM
            </a>
        </button>

        <button id="remove-vm-button" class="btn btn-danger btn-sm" disabled>
            <a id="remove-vm" class="nav-link text-white small">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill me-1" viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 5h4a.5.5 0 0 1 .5.5v7A.5.5 0 0 1 10 13H6a.5.5 0 0 1-.5-.5v-7zM2 2.5A.5.5 0 0 1 2.5 2h11a.5.5 0 0 1 .5.5V3H2v-.5zM4.5 4h7l-.5 8H5L4.5 4z"/>
                </svg>
                Remove VM
            </a>
        </button>
    </div>
</div>

</div>
    
                <div class="col-12 px-0">
                <div class="card border-0 shadow">
                    <div class="card-body">
                        <h2 class="fs-5 fw-bold mb-1" id="vm-name"> </h2> 
                        <p>real-time updates on the status of virtual machine .</p>
                        <div class="d-block">
                            <div class="d-flex align-items-center me-5">
                                <div class="icon-shape icon-sm icon-shape-primary rounded me-3">
<svg width="64px" height="64px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M512 512m-448 0a448 448 0 1 0 896 0 448 448 0 1 0-896 0Z" fill="#2196F3"></path><path d="M469.333333 469.333333h85.333334v234.666667h-85.333334z" fill="#FFFFFF"></path><path d="M512 352m-53.333333 0a53.333333 53.333333 0 1 0 106.666666 0 53.333333 53.333333 0 1 0-106.666666 0Z" fill="#FFFFFF"></path></g></svg>                                </div>
                                <div class="d-block">
                                    <label class="mb-0">Status</label>
                                    <h4 id="vm-status" class="mb-0">N/A</h4>
                                </div>
                            </div>
                            
                            
                            <!---node change --->
                                 <div class="d-flex align-items-center me-5">
                                <div class="icon-shape icon-sm icon-shape-info rounded me-3">
<svg width="64px" height="64px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M541.279573 529.974613c-17.44896-10.07616-43.88864-11.175253-59.00288-2.450773L85.2992 756.722347c-15.121067 8.72448-13.216427 23.988907 4.232533 34.065066l388.5056 224.303787c17.455787 10.07616 43.895467 11.175253 59.009707 2.450773l396.977493-229.198506c15.11424-8.72448 13.216427-23.988907-4.23936-34.065067l-388.5056-224.303787z" fill="#4762AF"></path><path d="M75.093333 249.883307v521.632426l434.56512 251.890347V501.773653L75.093333 249.883307z" fill="#4762AF"></path><path d="M507.262293 495.363413l436.927147-247.207253v524.376747L507.262293 679.0144V495.363413z" fill="#4762AF"></path><path d="M541.279573 8.33536C523.830613-1.7408 497.390933-2.833067 482.276693 5.891413L85.2992 235.083093c-15.121067 8.731307-13.216427 23.995733 4.232533 34.071894l388.5056 224.303786c17.455787 10.07616 43.895467 11.168427 59.009707 2.443947l396.977493-229.19168c15.11424-8.731307 13.216427-23.995733-4.23936-34.071893L541.279573 8.33536zM117.848747 430.30528c0 17.005227 10.349227 36.78208 23.10144 44.148053l179.042986 103.36256c12.752213 7.365973 23.10144-0.464213 23.10144-17.462613 0-17.005227-10.349227-36.78208-23.10144-44.148053L140.950187 412.842667c-12.752213-7.365973-23.10144 0.464213-23.10144 17.462613z" fill="#6D8ACA"></path><path d="M429.458773 579.413333c14.72512 8.4992 26.678613 29.20448 26.678614 46.20288 0 17.005227-11.953493 23.906987-26.678614 15.407787-14.718293-8.506027-26.678613-29.211307-26.678613-46.209707 0-17.005227 11.96032-23.906987 26.678613-15.40096z" fill="#60E000"></path><path d="M117.848747 562.56512c0 17.005227 10.349227 36.78208 23.10144 44.148053l179.042986 103.369387c12.752213 7.359147 23.10144-0.464213 23.10144-17.46944 0-16.9984-10.349227-36.78208-23.10144-44.141227L140.950187 545.102507c-12.752213-7.365973-23.10144 0.464213-23.10144 17.462613z" fill="#6D8ACA"></path><path d="M429.458773 711.673173c14.72512 8.4992 26.678613 29.20448 26.678614 46.209707 0 16.9984-11.953493 23.90016-26.678614 15.40096-14.718293-8.4992-26.678613-29.20448-26.678613-46.209707 0-16.9984 11.96032-23.90016 26.678613-15.40096z" fill="#60E000"></path><path d="M117.848747 694.831787c0 16.9984 10.349227 36.78208 23.10144 44.141226l179.042986 103.369387c12.752213 7.359147 23.10144-0.464213 23.10144-17.46944 0-16.9984-10.349227-36.78208-23.10144-44.141227L140.950187 677.362347c-12.752213-7.359147-23.10144 0.464213-23.10144 17.46944z" fill="#6D8ACA"></path><path d="M429.458773 843.933013c14.72512 8.4992 26.678613 29.20448 26.678614 46.209707 0 16.9984-11.953493 23.90016-26.678614 15.40096-14.718293-8.4992-26.678613-29.20448-26.678613-46.209707 0-16.9984 11.96032-23.90016 26.678613-15.40096z" fill="#60E000"></path></g></svg>                                </div>
                                <div class="d-block">
                                    <label class="mb-0">Node</label>
                                    <h4 id="vm-node" class="mb-0">Proxmox</h4>
                                </div>
                            </div>
                            <!---- node change end ---->
                            
                            
                                  <!---cpu change --->
                                 <div class="d-flex align-items-center me-5">
                                <div class="icon-shape icon-sm icon-shape-info rounded me-3">
<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C12.3853 3 12.6977 3.31236 12.6977 3.69767V6.48884C13.2084 6.48991 13.6717 6.49342 14.0932 6.50495L14.093 6.48837V3.69767C14.093 3.31236 14.4054 3 14.7907 3C15.176 3 15.4884 3.31236 15.4884 3.69767V6.48837C15.4884 6.52487 15.4856 6.56072 15.4802 6.5957C16.4162 6.71067 17.0648 6.94879 17.558 7.44198C18.0512 7.93517 18.2893 8.58381 18.4043 9.51984C18.4393 9.51443 18.4751 9.51163 18.5116 9.51163H21.3023C21.6876 9.51163 22 9.82399 22 10.2093C22 10.5946 21.6876 10.907 21.3023 10.907H18.5116L18.495 10.9068C18.5066 11.3283 18.5106 11.7916 18.5116 12.3023H21.3023C21.6876 12.3023 22 12.6147 22 13C22 13.3853 21.6876 13.6977 21.3023 13.6977L18.5112 13.6977C18.5101 14.2084 18.5066 14.6717 18.495 15.0932L18.5116 15.093H21.3023C21.6876 15.093 22 15.4054 22 15.7907C22 16.176 21.6876 16.4884 21.3023 16.4884H18.5116C18.4751 16.4884 18.4393 16.4856 18.4043 16.4802C18.2893 17.4162 18.0512 18.0648 17.558 18.558C17.0648 19.0512 16.4162 19.2893 15.4802 19.4043C15.4856 19.4393 15.4884 19.4751 15.4884 19.5116V22.3023C15.4884 22.6876 15.176 23 14.7907 23C14.4054 23 14.093 22.6876 14.093 22.3023V19.5116L14.0932 19.495C13.6717 19.5066 13.2084 19.5106 12.6977 19.5116V22.3023C12.6977 22.6876 12.3853 23 12 23C11.6147 23 11.3023 22.6876 11.3023 22.3023L11.3023 19.5112C10.7916 19.5101 10.3283 19.5066 9.90678 19.495L9.90698 19.5116V22.3023C9.90698 22.6876 9.59462 23 9.2093 23C8.82399 23 8.51163 22.6876 8.51163 22.3023V19.5116C8.51163 19.4751 8.51443 19.4393 8.51984 19.4043C7.58381 19.2893 6.93517 19.0512 6.44198 18.558C5.94879 18.0648 5.71067 17.4162 5.5957 16.4802C5.56071 16.4856 5.52487 16.4884 5.48837 16.4884H2.69767C2.31236 16.4884 2 16.176 2 15.7907C2 15.4054 2.31236 15.093 2.69767 15.093H5.48837L5.50495 15.0932C5.49342 14.6717 5.48944 14.2084 5.48837 13.6977H2.69767C2.31236 13.6977 2 13.3853 2 13C2 12.6147 2.31236 12.3023 2.69767 12.3023L5.48884 12.3023C5.48991 11.7916 5.49342 11.3283 5.50495 10.9068L5.48837 10.907H2.69767C2.31236 10.907 2 10.5946 2 10.2093C2 9.82399 2.31236 9.51163 2.69767 9.51163H5.48837C5.52487 9.51163 5.56071 9.51443 5.5957 9.51984C5.71067 8.58381 5.94879 7.93517 6.44198 7.44198C6.93517 6.94879 7.58381 6.71067 8.51984 6.5957C8.51443 6.56072 8.51163 6.52487 8.51163 6.48837V3.69767C8.51163 3.31236 8.82399 3 9.2093 3C9.59462 3 9.90698 3.31236 9.90698 3.69767V6.48837L9.90678 6.50495C10.3283 6.49342 10.7916 6.48944 11.3023 6.48837V3.69767C11.3023 3.31236 11.6147 3 12 3ZM11.0238 8.5814C10.4054 8.58136 9.87247 8.58133 9.44573 8.63871C8.98839 8.70019 8.55001 8.83885 8.19443 9.19443C7.83885 9.55001 7.70019 9.98839 7.63871 10.4457C7.58133 10.8725 7.58136 11.4054 7.5814 12.0238V13.9762C7.58136 14.5946 7.58133 15.1275 7.63871 15.5543C7.70019 16.0116 7.83885 16.45 8.19443 16.8056C8.55001 17.1612 8.98839 17.2998 9.44573 17.3613C9.87247 17.4187 10.4054 17.4186 11.0238 17.4186H12.9762C13.5946 17.4186 14.1275 17.4187 14.5543 17.3613C15.0116 17.2998 15.45 17.1612 15.8056 16.8056C16.1612 16.45 16.2998 16.0116 16.3613 15.5543C16.4187 15.1275 16.4186 14.5946 16.4186 13.9762V12.0238C16.4186 11.4054 16.4187 10.8725 16.3613 10.4457C16.2998 9.98839 16.1612 9.55001 15.8056 9.19443C15.45 8.83885 15.0116 8.70019 14.5543 8.63871C14.1275 8.58133 13.5947 8.58136 12.9762 8.5814H11.0238Z" fill="#1C274C"></path> <path opacity="0.5" d="M9.18091 10.1809C9.23402 10.1278 9.32886 10.0621 9.63147 10.0214C9.95415 9.97804 10.3921 9.97656 11.0696 9.97656H12.9301C13.6075 9.97656 14.0455 9.97804 14.3682 10.0214C14.6708 10.0621 14.7656 10.1278 14.8187 10.1809C14.8718 10.234 14.9375 10.3289 14.9782 10.6315C15.0216 10.9542 15.0231 11.3921 15.0231 12.0696V13.9301C15.0231 14.6075 15.0216 15.0455 14.9782 15.3682C14.9375 15.6708 14.8718 15.7656 14.8187 15.8187C14.7656 15.8718 14.6708 15.9375 14.3682 15.9782C14.0455 16.0216 13.6075 16.0231 12.9301 16.0231H11.0696C10.3921 16.0231 9.95415 16.0216 9.63147 15.9782C9.32886 15.9375 9.23402 15.8718 9.18091 15.8187C9.1278 15.7656 9.06211 15.6708 9.02143 15.3682C8.97804 15.0455 8.97656 14.6075 8.97656 13.9301V12.0696C8.97656 11.3921 8.97804 10.9542 9.02143 10.6315C9.06211 10.3289 9.1278 10.234 9.18091 10.1809Z" fill="#1C274C"></path> </g></svg>                                </div>
                                <div class="d-block">
                                    <label class="mb-0"> CPU usage</label>
                                    <h4 id="vm-cpu" class="mb-0">N/A</h4>
                                </div>
                            </div>
                            <!---- cpu change end ---->
                            
                            
                            
                                      
                                  <!---memory change --->
                                 <div class="d-flex align-items-center me-5">
                                <div class="icon-shape icon-sm icon-shape-info rounded me-3">
<svg fill="#000000" width="64px" height="64px" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M223.977 63.69a5.967 5.967 0 0 0-2.295-.446l.001-.001-188.877.77a6.013 6.013 0 0 0-5.984 6.024l.226 98.86c.008 3.314 2.699 6.015 6.01 6.034l15.326.087v10.633c0 3.315 2.683 6.007 5.993 6.007h25.471s6.319-15.38 23.62-15.38c17.301 0 23.783 15.38 23.783 15.38h74.032a6.003 6.003 0 0 0 5.999-6.008v-8.16h14.388a6.004 6.004 0 0 0 6.01-6.003V69.222a5.976 5.976 0 0 0-1.755-4.237 5.978 5.978 0 0 0-1.948-1.294zM42.588 80.586A2.002 2.002 0 0 1 44.002 80v.001h44A1.995 1.995 0 0 1 90 82.002l-.13 69.985s-4.127.137-7.667 2.48S77.76 160 77.76 160H42V81.997c.001-.53.213-1.038.588-1.412zm62.001-.001a2.001 2.001 0 0 1 1.413-.584h44a1.999 1.999 0 0 1 1.847 1.232c.1.243.151.503.151.765l-.141 76.006a2.01 2.01 0 0 1-2.013 1.997h-20.189s-4.827-4.457-10.622-6.472c-5.795-2.014-15.035-2.447-15.035-2.447V81.994c.002-.53.214-1.037.589-1.41zm61.999 0a2.002 2.002 0 0 1 1.414-.584h44a1.999 1.999 0 0 1 1.847 1.232c.1.243.151.503.151.765l-.141 76.006A2.004 2.004 0 0 1 211.86 160H166V81.997c.001-.53.213-1.038.588-1.412z"></path> </g></svg>                                </div>
                                <div class="d-block">
                                    <label class="mb-0"> Memory usage
 </label>
                                    <h4 id="vm-memory" class="mb-0">N/A</h4>
                                </div>
                            </div>
                            <!---- memory change end ---->
                            
                                                             
                                  <!---disk change --->
                                 <div class="d-flex align-items-center me-5">
                                <div class="icon-shape icon-sm icon-shape-info rounded me-3">
<svg width="64px" height="64px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M172.261392 465.745702l-0.539234 376.625021 326.285617 180.627064v-375.786213L172.261392 465.745702z" fill="#4762AF"></path><path d="M743.081477 435.363404l50.121532 15.817532-41.815149 39.734468-8.306383-55.552zM235.558754 438.021447l-25.469277 23.895149 21.776341 20.153191 3.692936-44.04834z" fill="#6982C8"></path><path d="M521.750414 667.549957c-13.105021-7.271489-32.768-8.170213-43.890383-1.998978L178.966414 831.400851c-11.122383 6.171234-9.510128 17.081191 3.594893 24.352681l291.70383 161.857362c13.105021 7.271489 32.768 8.164766 43.890383 1.998978l298.893617-165.849872c11.122383-6.171234 9.510128-17.081191-3.594894-24.352681L521.750414 667.549957z" fill="#4762AF"></path><path d="M532.720286 13.148596c0-11.035234-6.737702-16.122553-15.044085-11.362043L246.909903 157.107745c-8.300936 4.760511-15.044085 17.582298-15.044085 28.617532v596.098723c0 11.029787 6.743149 16.122553 15.044085 11.362043l270.766298-155.321192c8.306383-4.760511 15.044085-17.587745 15.044085-28.617532V13.148596z" fill="#C4CADD"></path><path d="M526.717903 0.604596l14.542979 8.279149-15.937362 7.473021-6.955574-7.974128L526.717903 0.604596z" fill="#C4CADD"></path><path d="M546.560626 21.090043c0-11.035234-6.743149-16.128-15.044085-11.36749L260.750243 165.043745c-8.300936 4.760511-15.044085 17.587745-15.044085 28.622978v596.093277c0 11.035234 6.743149 16.128 15.044085 11.362043l270.766298-155.315745c8.300936-4.765957 15.044085-17.587745 15.044085-28.622979V21.090043z" fill="#848BA6"></path><path d="M602.842499 75.389277c0-11.035234-6.743149-16.128-15.044085-11.362043L317.032116 219.342979c-8.300936 4.765957-15.044085 17.587745-15.044085 28.622978v596.093277c0 11.035234 6.743149 16.128 15.044085 11.367489l270.766298-155.321191c8.300936-4.760511 15.044085-17.587745 15.044085-28.622979V75.389277z" fill="#C4CADD"></path><path d="M596.840116 62.845277l14.542978 8.279149-15.937361 7.467574-6.955575-7.968681 8.349958-7.778042z" fill="#C4CADD"></path><path d="M616.682839 83.325277c0-11.029787-6.743149-16.122553-15.044085-11.362043L330.872456 227.284426c-8.306383 4.760511-15.044085 17.587745-15.044085 28.617531v596.098724c0 11.035234 6.737702 16.128 15.044085 11.362042l270.766298-155.315744c8.300936-4.765957 15.044085-17.587745 15.044085-28.622979V83.325277z" fill="#848BA6"></path><path d="M672.964711 137.629957c0-11.035234-6.743149-16.128-15.044085-11.362042L387.154329 281.58366c-8.306383 4.765957-15.044085 17.587745-15.044086 28.622978v596.093277c0 11.035234 6.737702 16.128 15.044086 11.367489l270.766297-155.321191c8.300936-4.760511 15.044085-17.587745 15.044085-28.622979V137.629957z" fill="#C4CADD"></path><path d="M666.956882 125.080511l14.542978 8.284595-15.937361 7.467575-6.950128-7.974128 8.344511-7.778042z" fill="#C4CADD"></path><path d="M686.799605 145.565957c0-11.029787-6.737702-16.122553-15.038638-11.362042L400.989222 289.525106c-8.300936 4.760511-15.038638 17.587745-15.038638 28.617532v596.098724c0 11.035234 6.737702 16.122553 15.038638 11.362042l270.771745-155.321191c8.300936-4.760511 15.038638-17.582298 15.038638-28.617532V145.565957z" fill="#848BA6"></path><path d="M743.081477 199.870638c0-11.035234-6.737702-16.128-15.038638-11.367489L457.271094 343.82434c-8.300936 4.760511-15.038638 17.587745-15.038638 28.622979v596.093277c0 11.035234 6.737702 16.128 15.038638 11.362042l270.771745-155.315744c8.300936-4.765957 15.038638-17.587745 15.038638-28.622979V199.870638z" fill="#C4CADD"></path><path d="M737.079094 187.321191l14.542979 8.284596-15.937362 7.467575-6.955574-7.974128 8.349957-7.778043z" fill="#C4CADD"></path><path d="M756.921818 207.806638c0-11.035234-6.737702-16.122553-15.044085-11.362042L471.111435 351.765787c-8.300936 4.760511-15.044085 17.582298-15.044085 28.617532v596.098724c0 11.029787 6.743149 16.122553 15.044085 11.362042l270.766298-155.321191c8.306383-4.760511 15.044085-17.587745 15.044085-28.617532V207.806638z" fill="#848BA6"></path><path d="M496.215775 642.592681l327.511149-178.088851 0.566468 379.40834-328.077617-69.011064v-132.308425z" fill="#4762AF"></path><path d="M465.670073 636.43234l69.893447-2.897702v376.412596s-8.900085 7.690894-22.168511 11.645277c-4.33566 1.290894-9.150638 1.824681-14.254298 2.037106-9.984 0.408511-20.790468-4.057872-32.223319-10.092936l-1.247319-377.104341z" fill="#6982C8"></path><path d="M466.732201 641.056681L225.286073 501.656511v80.498383l241.446128 139.40017v-80.498383zM466.732201 926.093617L225.286073 786.693447v83.412425l241.446128 139.400171v-83.412426z" fill="#4762AF"></path><path d="M466.732201 705.16017l-19.477787-11.247659v269.361021l19.477787 11.247659v-269.361021z" fill="#4762AF"></path><path d="M231.865818 422.432681v24.989957l-6.634213 3.829107c-9.733447 5.621106-8.513362 15.458043 2.728851 21.945191l250.264511 144.48749c11.242213 6.492596 28.274383 7.200681 38.00783 1.579574l255.722212-147.641191c9.733447-5.621106 8.513362-15.452596-2.728851-21.945192l-12.30434-7.102638v-26.662128l56.59234 34.347575c13.083234 7.554723 14.510298 18.998468 3.17549 25.540085l-297.570043 171.797787c-11.329362 6.541617-31.144851 5.719149-44.228085-1.830128L183.672456 477.630638c-13.083234-7.554723-14.504851-18.993021-3.175489-25.534638l51.368851-29.663319z" fill="#6982C8"></path><path d="M535.361988 775.701787v182.805787l250.694809-127.656851-250.694809-55.148936zM302.124201 827.833191v-24.227404l-20.708766 12.27166 20.708766 11.955744z" fill="#4762AF"></path><path d="M316.503775 795.620766l123.332085-73.166979 0.838809 56.16749-111.812085 64.561021-12.358809-7.04817v-40.513362zM387.007265 828.328851l53.623829-30.95966v110.902469l-53.623829-30.954213v-48.988596z" fill="#848BA6"></path><path d="M245.967605 597.416851l-14.101787-7.03183v199.293277l13.84034 11.590808 0.261447-203.852255z" fill="#C4CADD"></path><path d="M245.967605 597.416851l76.625702 43.835915-76.625702 44.244425v-88.08034zM245.967605 705.525106v29.254809l118.544341-69.021958-24.832-14.336-93.712341 54.103149z" fill="#848BA6"></path><path d="M302.086073 629.716426v197.817191l14.417702 8.32817v-197.926127l-14.417702-8.219234zM372.23552 670.218894v198.17668l14.771745 8.529703v-198.443575l-14.771745-8.262808z" fill="#C4CBDC"></path><path d="M220.471094 697.943149l12.233532 7.059064v62.551149c0 10.937191 6.612426 23.628255 14.760851 28.334298l178.453788 103.031829c8.142979 4.700596 14.755404-0.359489 14.755404-11.291234v-62.551149l12.233532 7.059064v71.876085c0 12.217191-7.391319 17.870979-16.492936 12.614809l-199.451234-115.150979c-9.101617-5.25617-16.492936-19.43966-16.492937-31.662298v-71.870638z" fill="#6982C8"></path><path d="M452.908201 832.63183l-12.233532-7.064511v-95.923745c0-10.931745-6.612426-23.628255-14.755404-28.328851l-178.453788-103.031829c-8.148426-4.706043-14.760851 0.354043-14.760851 11.285787v95.929191l-12.233532-7.06451v-105.243234c0-12.222638 7.391319-17.876426 16.492937-12.620256l199.451234 115.150979c9.101617 5.25617 16.492936 19.445106 16.492936 31.662298v105.248681z" fill="#6982C8"></path><path d="M549.360286 891.827745v-141.932936s-6.601532-30.08817 43.699745-50.301277l196.433702-113.408s10.446979-9.624511 23.306893-0.849702c12.859915 8.769362 28.601191 16.514723 28.601192 16.514723s-227.878128 133.61566-229.653787 132.59166c-1.781106-1.029447-19.684766 5.670128-19.684766 34.124255v166.067745l-32.250554-18.617192s-10.452426-9.23234-10.452425-24.189276z" fill="#273F73"></path><path d="M847.671094 614.89566c0-10.893617-6.634213-15.904681-14.798978-11.193192l-229.681022 132.608c-8.170213 4.716936-14.798979 17.386213-14.798978 28.27983v157.864851c0 10.88817 6.628766 15.904681 14.798978 11.187745l229.681022-132.608c8.164766-4.711489 14.798979-17.386213 14.798978-28.274383v-157.864851z" fill="#677FC4"></path><path d="M806.711094 667.609872c0-7.424-4.520851-10.839149-10.087489-7.625532l-146.965787 84.850383c-5.566638 3.213617-10.087489 11.846809-10.087489 19.270809s4.520851 10.844596 10.087489 7.625532l146.965787-84.850383c5.566638-3.213617 10.087489-11.846809 10.087489-19.270809zM806.711094 719.659574c0-7.424-4.520851-10.839149-10.087489-7.625531l-146.965787 84.850383c-5.566638 3.213617-10.087489 11.846809-10.087489 19.270808s4.520851 10.844596 10.087489 7.625532l146.965787-84.850383c5.566638-3.213617 10.087489-11.846809 10.087489-19.270809zM806.711094 769.955404c0-7.424-4.520851-10.839149-10.087489-7.625532l-146.965787 84.850383c-5.566638 3.213617-10.087489 11.852255-10.087489 19.276256s4.520851 10.839149 10.087489 7.625532l146.965787-84.850383c5.566638-3.213617 10.087489-11.852255 10.087489-19.276256z" fill="#71E0FF"></path><path d="M535.814073 448.969532v54.762213l-19.788255 11.427404V438.337362l25.785191-14.886128c11.307574-6.530723 20.164085-8.676766 26.564085-6.449021 7.603745 2.701617 11.405617 10.131064 11.405617 22.28834 0 11.634383-3.251745 23.001872-9.749787 34.107915-6.498043 11.106043-14.86434 19.613957-25.098893 25.523745-1.203745 0.691745-3.170043 1.753872-5.898894 3.180936v-22.571575l3.164596-1.830127c11.53634-6.656 17.304511-15.561532 17.30451-26.705702 0-10.463319-5.670128-12.42417-17.010383-5.877107l-6.677787 3.850894zM608.877563 384.724426v76.827234l-19.788256 11.421957V396.15183l19.788256-11.427404zM653.427009 358.666894v21.89617a10.675745 10.675745 0 0 0-3.311659 1.067574c-1.497872 0.866043-2.777872 2.244085-3.850894 4.139575-1.073021 1.895489-1.612255 3.741957-1.612255 5.539404 0 1.541447 0.588255 3.153702 1.753872 4.842213l1.514213 2.16783c2.728851 3.899915 4.096 8.404426 4.096 13.508085 0 7.467574-2.304 15.114894-6.901106 22.947404-4.597106 7.832511-10.207319 13.660596-16.836086 17.489702-3.186383 1.841021-6.340085 2.816-9.455659 2.924936v-22.228425c1.884596 0.299574 3.556766 0.027234 5.016511-0.817022 1.721191-0.996766 3.159149-2.396596 4.313872-4.204936 1.154723-1.813787 1.732085-3.578553 1.732085-5.305191 0-1.127489-0.925957-3.050213-2.777872-5.76817-2.957617-4.297532-4.433702-9.450213-4.433702-15.452596 0-7.238809 2.233191-14.766298 6.699574-22.582468 4.466383-7.810723 9.804255-13.513532 16.013617-17.097532a24.870128 24.870128 0 0 1 8.039489-3.066553zM721.228882 319.86383l-17.549617 44.968851 17.451574 31.912851-22.228425 12.827234-15.060426-33.737532 17.059404-44.238979 20.32749-11.732425z m-37.969702 21.917957v76.827234l-19.793703 11.421958V353.209191l19.793703-11.427404z" fill="#17284A"></path></g></svg>                                </div>
                                <div class="d-block">
                                    <label class="mb-0">  Bootdisk size
 
 </label>
                                    <h4 id="data.maxdisk" class="mb-0">N/A</h4>
                                </div>
                            </div>
                            <!---- disk change end ---->
                            
                            
                        {% comment %}    <div class="d-flex align-items-center pt-3">
                                <div class="icon-shape icon-sm icon-shape-purple rounded me-3">
                                    <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"></path></svg>                                        </div>
                                <div class="d-block">
                                    <label class="mb-0">Sessions</label>
                                    <h4 class="mb-0">9,567</h4>
                                </div>
                            </div>{% endcomment %}
                        </div>
                    </div>
                </div>
            </div>

    
{% endblock content %}

{% block javascripts %}
 <script>
 
    const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-primary',
                cancelButton: 'btn btn-gray'
            },
            buttonsStyling: false
        });
 let vname=""
 let removebutt= document.getElementById('remove-vm-button')
 let startbutt= document.getElementById('button-start-vm')
 let stopbutt= document.getElementById('button-stop-vm')
 let openbutt= document.getElementById('button-open-vm')
        // WebSocket connection
        const ws = new WebSocket('ws://' + window.location.host + '/ws/vm-detail/');
        
        ws.onopen = function() {
            console.log('WebSocket connection established');
          
            const vmid ="{{ vmid }}"
            ws.send(JSON.stringify({ vmid: vmid }));
        };

        ws.onmessage = function(event) {
            const data = JSON.parse(event.data);
                if(data.status==="running"){
                    vname =data.name
                     document.getElementById('button-open-vm').disabled=false
                    console.log("the vm is ready to be opened")
                }
                   if(data.status==="stopped"){
                     removebutt.disabled=false
                       startbutt.disabled=false
                }
            // Update the card with VM details
            document.getElementById('vm-status').textContent = data.status || 'N/A';
            document.getElementById('vm-cpu').textContent = data.cpu ? `${data.cpu}` : 'N/A';
            document.getElementById('vm-memory').textContent = data.mem ? `${data.mem}` : 'N/A';
            document.getElementById('data.maxdisk').textContent = data.maxdisk ? `${data.maxdisk}` : 'N/A';
            document.getElementById('vm-name').textContent = data.name || 'N/A';
            document.getElementById('vm-id').textContent = data.vmid || 'N/A';
            
            


        };

        ws.onerror = function(error) {
            console.error('WebSocket Error:', error);
        };

        ws.onclose = function() {
            console.log('WebSocket connection closed');
        };
        
        
        
{% comment %}    var startVmLink = document.getElementById('start-vm-link');
    const vmid ="{{ vmid }}"

    // Set the href attribute dynamically
    startVmLink.href = `/start-vm/${vmid}/`; {% endcomment %}
    
    
    document.getElementById('start-vm-link').addEventListener('click', function (event) {
    event.preventDefault(); // Prevent the default link behavior

    const notyf = new Notyf({
        position: {
            x: 'left',
            y: 'top',
        },
        types: [
            {
                type: 'info',
                background: '#0948B3',
                icon: {
                    className: 'fas fa-info-circle',
                    tagName: 'span',
                    color: '#fff'
                },
                dismissible: false
            }
        ]
    });

    notyf.open({
        type: 'info',
        message: 'wait few seconds while Starting the VM...'
    });

    const vmid = "{{ vmid }}";
    const startVmLink = `/start-vm/${vmid}/`;

    // Wait for a short period before redirecting
    setTimeout(function () {
        window.location.href = startVmLink;
    }, 1500); // Adjust delay as needed
});

    document.getElementById('stop-vm-link').addEventListener('click', function (event) {
    event.preventDefault(); // Prevent the default link behavior

    const notyf = new Notyf({
        position: {
            x: 'left',
            y: 'top',
        },
        types: [
            {
                type: 'info',
                background: '#b3093f',
                icon: {
                    className: 'fas fa-info-circle',
                    tagName: 'span',
                    color: '#fff'
                },
                dismissible: false
            }
        ]
    });

    notyf.open({
        type: 'info',
        message: 'stopping the VM...'
    });

    const vmid = "{{ vmid }}";
    const startVmLink =  `/stop-vm/${vmid}/`;  

    // Wait for a short period before redirecting
    setTimeout(function () {
        window.location.href = startVmLink;
    }, 1500); // Adjust delay as needed
});
    
    
    
    
 removebutt.addEventListener('click', function(event) {
    // Show confirmation dialog

    swalWithBootstrapButtons.fire({
        icon: 'warning',
        title: 'Success alert',
        text: `are you sure you want to remove vm ${vmid} permanently`,
        showCancelButton: true,
        confirmButtonText: 'remove VM',
        cancelButtonText: 'Cancel',
    }).then((result) => {
        if (result.isConfirmed) {
             var removeVmLink = document.getElementById('remove-vm-link');

         // Set the href attribute dynamically
        // removeVmLink.href = `/delete-vm-machine/${vmid}/`;
         removeutl=`/delete-vm-machine/${vmid}/`;
           window.location.href = removeutl;
        }
    });
});

    

       var openVmLink = document.getElementById('link-open-vm');
        openVmLink.addEventListener('click', function() {
            console.log("u clicked open vm")
            window.open(`https://192.168.187.137:8006/?console=kvm&novnc=1&vmid=${vmid}&vmname=${vname}&node=proxmox&resize=off&cmd=/`, '_blank');
        })


    </script>
  
{% endblock javascripts %}
